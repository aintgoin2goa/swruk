branch-defaults:
  master:
    environment: swruk-wordpress
global:
  application_name: My First Elastic Beanstalk Application
  default_ec2_keyname: swruk
  default_platform: 64bit Amazon Linux 2016.03 v2.1.0 running PHP 5.6
  default_region: eu-west-1
  profile: null
  sc: git
deploy:
  artifact: swruk.zip
files:
  "/etc/php.d/project.ini" :
    mode: "000644"
    owner: root
    group: root
    content: |
      upload_max_filesize = 64M
      post_max_size = 64M
  files:
    "/opt/elasticbeanstalk/tasks/taillogs.d/wordpress.conf" :
      mode: "000755"
      owner: root
      group: root
      content: |
        /var/www/html/wordpress/wp-content/debug.log
      "/var/www/html/wordpress/wp-content/debug.log" :
            mode: "000755"
            owner: root
            group: root
container_commands:
  00_fix_script_permissions:
    command: "chmod -R 0777 /var/www/html/wordpress/wp-content/uploads/"
